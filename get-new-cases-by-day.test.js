const getNewCasesByDay = require('./get-new-cases-by-day.js');


describe('getNewCasesByDay', () => {
  it(`returns the new cases on the given date in the given data`, () => {
    const data1 = [
      ['USA','North America','United States','2020-01-09',0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,,,,,,,,0.0,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86],
      ['USA','North America','United States','2020-03-07',338.0,105.0,14.0,2.0,1.021,0.317,0.042,0.006,4138.0,,0.013,,,,'units unclear (incl. non-PCR)',20.37,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86],
      ['USA','North America','United States','2020-04-06',337635.0,25398.0,9647.0,1146.0,1020.037,76.731,29.145,3.462,1958186.0,152008.0,5.916,0.459,139064.0,0.42,'units unclear (incl. non-PCR)',72.69,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86]
    ]

    const data2 = [
      ['USA','North America','United States','2020-01-09',5,500,0.0,0.0,0.0,0.0,0.0,0.0,,,,,,,,0.0,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86],
      ['USA','North America','United States','2020-03-07',5,500,14.0,2.0,1.021,0.317,0.042,0.006,4138.0,,0.013,,,,'units unclear (incl. non-PCR)',20.37,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86],
      ['USA','North America','United States','2020-04-06',5,500,9647.0,1146.0,1020.037,76.731,29.145,3.462,1958186.0,152008.0,5.916,0.459,139064.0,0.42,'units unclear (incl. non-PCR)',72.69,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86]
    ]

    const data3 = [
      ['USA','North America','United States','2020-01-09',140,1,0.0,0.0,0.0,0.0,0.0,0.0,,,,,,,,0.0,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86],
      ['USA','North America','United States','2020-03-07',150,2,14.0,2.0,1.021,0.317,0.042,0.006,4138.0,,0.013,,,,'units unclear (incl. non-PCR)',20.37,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86],
      ['USA','North America','United States','2020-04-06',160,3,9647.0,1146.0,1020.037,76.731,29.145,3.462,1958186.0,152008.0,5.916,0.459,139064.0,0.42,'units unclear (incl. non-PCR)',72.69,331002647.0,35.608,38.3,15.413,9.732,54225.446,1.2,151.089,10.79,19.1,24.6,,2.77,78.86]
    ]

    expect(getNewCasesByDay('2020-01-09', data1)).toBe(0);
    expect(getNewCasesByDay('2020-03-07', data1)).toBe(105);
    expect(getNewCasesByDay('2020-04-06', data1)).toBe(25398);
    expect(getNewCasesByDay('2020-01-09', data2)).toBe(500);
    expect(getNewCasesByDay('2020-03-07', data2)).toBe(500);
    expect(getNewCasesByDay('2020-04-06', data2)).toBe(500);
    expect(getNewCasesByDay('2020-01-09', data3)).toBe(1);
    expect(getNewCasesByDay('2020-03-07', data3)).toBe(2);
    expect(getNewCasesByDay('2020-04-06', data3)).toBe(3);
  })
})
